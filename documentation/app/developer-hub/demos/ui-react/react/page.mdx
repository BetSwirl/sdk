# React Integration Guide

import { Tabs } from 'nextra/components'

This guide walks you through creating a casino application using BetSwirl's React UI library.

**What you'll build:** A fully functional dice game with multi-chain support, custom theming, and background image - exactly like our [live demo](https://ui-react-demo.betswirl.com).

**Time:** ~10 minutes

<Tabs items={['Fork Repository', 'From Scratch']}>
  <Tabs.Tab>
#### Step 1: Fork Repository

Fork this repository: https://github.com/BetSwirl/ui-react-demo

Click the **"Fork"** button in the top right corner to create your own copy.

#### Step 2: Clone and Run

```shell
# Clone your forked repository
git clone https://github.com/YOUR_USERNAME/ui-react-demo.git
cd ui-react-demo

# Install dependencies and start dev server
npm install
npm run dev
```

Open in browser `http://localhost:5173`
  </Tabs.Tab>

  <Tabs.Tab>
#### Step 1: Create Project

```shell
# node --version
# v24.2.0

npm create vite@latest betswirl-ui-react-demo -- --template react-ts
```

When prompted:
- **Use rolldown-vite (Experimental)?** ‚Üí Select **No**
- **Install with npm and start now?** ‚Üí Select **Yes**

This will automatically install dependencies and start the dev server. Open http://localhost:5173 in your browser - you should see the default Vite + React welcome page.

Stop the dev server (Ctrl+C) and navigate to the project directory:

```shell
cd betswirl-ui-react-demo
```

#### Step 2: Install BetSwirl

```shell
npm i @betswirl/ui-react
```

Package: [@betswirl/ui-react on npm](https://www.npmjs.com/package/@betswirl/ui-react)

#### Step 3: Setup Providers

Replace the entire content of `src/main.tsx` with:

```tsx
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import { OnchainKitProvider, type AppConfig } from '@coinbase/onchainkit'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { http, type Hex } from 'viem'
import { WagmiProvider, createConfig } from 'wagmi'
import { base, polygon, arbitrum } from 'wagmi/chains'
import {
  BalanceProvider,
  BetSwirlSDKProvider,
  FreebetsProvider,
  LeaderboardProvider,
  TokenProvider,
  type TokenWithImage
} from '@betswirl/ui-react'
import './index.css'
import '@betswirl/ui-react/styles.css'
import App from './App.tsx'

const queryClient = new QueryClient()

// Use custom RPC if provided in .env, otherwise use default
const baseRpc = import.meta.env.VITE_BASE_RPC_URL
const polygonRpc = import.meta.env.VITE_POLYGON_RPC_URL
const arbitrumRpc = import.meta.env.VITE_ARBITRUM_RPC_URL

const config = createConfig({
  chains: [base, polygon, arbitrum],
  transports: {
    [base.id]: baseRpc ? http(baseRpc) : http(),
    [polygon.id]: polygonRpc ? http(polygonRpc) : http(),
    [arbitrum.id]: arbitrumRpc ? http(arbitrumRpc) : http(),
  },
})

const onChainKitConfig: AppConfig = {
  wallet: {
    display: "modal",
  }
}

// Token definitions (you can add more or use different tokens)
const DEGEN_TOKEN: TokenWithImage = {
  address: "0x4ed4E862860beD51a9570b96d89aF5E1B0Efefed" as Hex,
  symbol: "DEGEN",
  decimals: 18,
  image: "https://www.betswirl.com/img/tokens/DEGEN.svg"
}

const ETH_TOKEN: TokenWithImage = {
  address: "0x0000000000000000000000000000000000000000" as Hex,
  symbol: "ETH",
  decimals: 18,
  image: "https://www.betswirl.com/img/tokens/ETH.svg"
}

// Limit available tokens (remove this to show all supported tokens)
const ALLOWED_TOKENS = [
  DEGEN_TOKEN.address,
  ETH_TOKEN.address,
  "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913" as Hex, // USDC
  "0x94025780a1aB58868D9B2dBBB775f44b32e8E6e5" as Hex, // BETS
]

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <OnchainKitProvider chain={base} config={onChainKitConfig}>
          <BetSwirlSDKProvider
            initialChainId={base.id}
            supportedChains={[base.id, polygon.id, arbitrum.id]}
            bankrollToken={DEGEN_TOKEN}     // Optional: set default betting token
            filteredTokens={ALLOWED_TOKENS} // Optional: limit available tokens
          >
            <TokenProvider>
              <BalanceProvider>
                <FreebetsProvider>
                  <LeaderboardProvider onPlayNow={() => {}}>
                    <App />
                  </LeaderboardProvider>
                </FreebetsProvider>
              </BalanceProvider>
            </TokenProvider>
          </BetSwirlSDKProvider>
        </OnchainKitProvider>
      </QueryClientProvider>
    </WagmiProvider>
  </StrictMode>,
)
```

**What's happening here:**
- **Wagmi & React Query**: Manage blockchain connections and data fetching
- **OnchainKit**: Provides wallet connection UI
- **BetSwirl Providers**: Handle betting logic, token management, freebets, and leaderboards
- **Multi-chain support**: Base, Polygon, and Arbitrum configured
- **Custom RPCs**: Fallback to default public RPCs if env variables not set
- **Token filtering**: Limits available tokens to DEGEN, ETH, USDC, and BETS (you can change this list or remove to show all tokens - see [Configuration](#configuration) section below)

#### Step 4: Add Affiliate Address

Add your affiliate address to earn **30% of house edge revenue** from every bet placed through your app.

Update `src/main.tsx` - add this line at the top with other environment variables:

```tsx
const affiliateAddress = import.meta.env.VITE_AFFILIATE_ADDRESS
```

Then add `affiliate` prop to `BetSwirlSDKProvider`:

```tsx
<BetSwirlSDKProvider
  initialChainId={base.id}
  supportedChains={[base.id, polygon.id, arbitrum.id]}
  affiliate={affiliateAddress}  // Add this line
  // ... other props
>
```

**Learn more:** [Affiliate Program](/protocol-hub/partners/affiliates) - track earnings, create freebets, manage leaderboards, and claim revenue.

#### Step 5: Add Game Component

Replace the entire content of `src/App.tsx` with:

```tsx
import {DiceGame} from '@betswirl/ui-react'

function App() {
    return (
        <DiceGame
            theme="dark"
            customTheme={{
                "--primary": "rgb(225 159 31)",
                "--play-btn-font": "rgb(74 41 24)",
            } as React.CSSProperties}
            backgroundImage="/game-bg.png"
        />
    )
}

export default App
```

**What's happening here:**
- **DiceGame component**: Fully functional dice game with betting panel
- **Dark theme**: Dark mode interface
- **Custom colors**: Gold primary color (`rgb(225 159 31)`) and dark brown button text
- **Background image**: Will add in next step

#### Step 6: Custom Branding

Customize theme, colors and backgrounds to match your brand.

**Available customization options:**

**Theme:** Choose between `"light"`, `"dark"`, or `"system"` (auto-detects user preference)

**Colors you can customize:**
- `--primary` - Main brand color (buttons, highlights)
- `--play-btn-font` - Text color on Play button
- `--connect-btn-font` - Text color on Connect Wallet button
- `--game-window-overlay` - Overlay color for game window
- `--background` - Background color

**Background image:** Any image URL or local file from `public/` folder

**1. Customize theme and colors - update your `src/App.tsx`:**

```tsx
<DiceGame
  theme="dark"                              // or "light" or "system"
  customTheme={{
    "--primary": "rgb(59 130 246)",         // Brand color
    "--play-btn-font": "rgb(255 255 255)",  // Button text
    "--background": "rgb(17 24 39)",        // Background
  } as React.CSSProperties}
  backgroundImage="/game-bg.png"            // Your background
/>
```

**2. Add background images:**

Download two background images - one for the page and one for the game component:

- **Page background**: [page-bg.png](https://raw.githubusercontent.com/BetSwirl/ui-react-demo/main/public/page-bg.png)
- **Game background**: [game-bg.png](https://raw.githubusercontent.com/BetSwirl/ui-react-demo/main/public/game-bg.png)

**Save both images** to the `public/` folder:
```
betswirl-ui-react-demo/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ page-bg.png   ‚Üê Background for entire page
‚îÇ   ‚îî‚îÄ‚îÄ game-bg.png   ‚Üê Background for game component
‚îú‚îÄ‚îÄ src/
‚îî‚îÄ‚îÄ ...
```

**3. Add page background style** to `src/index.css`:

Open `src/index.css` and add these styles to the `body` section:

```css
body {
  width: 100%;
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 328px;
  min-height: 100vh;
  background-image: url('/page-bg.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
}

#root {
  margin: 0 auto;
  display: flex;
  align-items: center;
}
```

#### Step 7: Run Your Casino

```shell
npm run dev
```

Open in browser `http://localhost:5173`

#### Step 8: Push to GitHub

Before deploying, you need to push your code to GitHub.

**1. Initialize Git and commit your code:**

```bash
git init
git add .
git commit -m "feat: initial casino setup"
```

**2. Create a new repository on GitHub:**

- Go to [github.com](https://github.com) and sign in
- Click the **"+"** button in top right ‚Üí **"New repository"**
- Repository name: `my-casino-app` (or any name you prefer)
- Make it **Private**
- **Do not** initialize with README, .gitignore, or license
- Click **"Create repository"**

**3. Connect your local project to GitHub:**

GitHub will show you commands after creating the repository. Copy and run them:

```bash
git remote add origin https://github.com/YOUR_USERNAME/my-casino-app.git
git branch -M main
git push -u origin main
```

Replace `YOUR_USERNAME` with your GitHub username.

**4. Verify:** Refresh the GitHub page - you should see your code uploaded.
  </Tabs.Tab>
</Tabs>

## What You Have Now

Your React casino application is ready with the following features already configured:

- BetSwirl SDK integration with support for Base, Polygon, and Arbitrum
- OnchainKit wallet connection
- Fully functional Dice game component
- Custom theming and branding with gold accents and dark theme
- Background images for page and game
- Freebet system for user promotions
- Leaderboard support for competitive tournaments
- Token selection with filtering for DEGEN, ETH, USDC, and BETS

**Next steps:** Deploy to Vercel and add your affiliate address to start earning 30% commission from all bets.

## Deploy to Vercel

Now deploy your casino to the web and get a public URL.

**1. Sign up on Vercel:** Go to [vercel.com](https://vercel.com) ‚Üí **"Sign Up"** ‚Üí **"Continue with GitHub"** ‚Üí Authorize access

**2. Create new project:** Click **"Add New..." ‚Üí "Project"** ‚Üí Find `my-casino-app` ‚Üí **"Import"**

**3. Configure and deploy:** Vercel auto-detects Vite settings. Leave defaults and click **"Deploy"**

**4. Wait for build to complete** (1-2 minutes), then copy your production URL: `https://my-casino-app.vercel.app`

**5. Test your live casino:** Open the URL, connect wallet, and place a bet.

**What's next:** Every `git push` automatically deploys. GitHub now shows a "Deployments" tab with deployment history and status checks.

## Add Affiliate & Custom RPC

As an affiliate, you earn **30% of house edge revenue** from every bet placed through your casino. Add your wallet address to start earning, and configure custom RPC endpoints for better performance.

**Learn more:** [Affiliate Program](/protocol-hub/partners/affiliates) - track earnings, create freebets, manage leaderboards, and claim revenue.

**1. Add environment variables to Vercel:**

- Go to your project on [vercel.com](https://vercel.com)
- Click **"Settings"** ‚Üí **"Environment Variables"**
- Add your affiliate address (required):

| Name | Value |
|------|-------|
| `VITE_AFFILIATE_ADDRESS` | Your wallet address (to earn 30% commission) |

- **Optional:** Add custom RPC endpoints for better performance and reliability. Without these, the app uses free public RPCs which may be slower or rate-limited:

| Name | Value |
|------|-------|
| `VITE_BASE_RPC_URL` | Your Base RPC URL |
| `VITE_POLYGON_RPC_URL` | Your Polygon RPC URL |
| `VITE_ARBITRUM_RPC_URL` | Your Arbitrum RPC URL |

**RPC providers:** [Alchemy](https://www.alchemy.com/), [Infura](https://www.infura.io/), [QuickNode](https://www.quicknode.com/) (most offer free tiers)

Click **"Save"** after adding variables.

**2. Deploy changes:**

```bash
git add .
git commit -m "feat: add affiliate and custom rpc"
git push
```

Vercel will automatically redeploy with your affiliate address and RPC endpoints.

**3. Check your earnings:**

Once deployed, track your affiliate revenue:

1. Go to [Revenues Dashboard](https://www.betswirl.com/base/affiliate/revenues)
2. Connect the same wallet you used for `VITE_AFFILIATE_ADDRESS`
3. View your earnings in real-time (30% of house edge from each bet)
4. Click **"Claim"** to withdraw your earnings

---

## Optional Enhancements

The base setup above gives you a fully functional casino. Below are optional features you can add to enhance your application.

### üéÆ Multiple Games

Add more games and let users switch between them.

**First, fix button styles in `src/index.css`:**

Find the `button` styles and replace the entire block with:

```css
button {
  font-family: inherit;
  cursor: pointer;
}
button:focus-visible {
  outline: 2px solid rgba(225, 159, 31, 0.5);
  outline-offset: 2px;
}
```

This removes Vite's default gray backgrounds and blue borders that would conflict with navigation styling.

**Then update your `src/App.tsx`:**

**1. Add imports** at the top:

Add `useState` from React:
```tsx
import { useState } from 'react'
```

Update your BetSwirl import to include more games:
```tsx
// Change this:
import { DiceGame } from '@betswirl/ui-react'

// To this:
import { CoinTossGame, DiceGame, RouletteGame } from '@betswirl/ui-react'
```

**2. Add state** inside your App function (before the return):

```tsx
const [game, setGame] = useState<'dice' | 'cointoss' | 'roulette'>('dice')
```

**3. Wrap your existing game** with navigation:

```tsx
return (
  <div>
    {/* Navigation buttons */}
    <nav style={{
      display: 'flex',
      gap: '8px',
      justifyContent: 'center',
      padding: '12px 0',
      marginBottom: '12px',
    }}>
      {(['dice', 'cointoss', 'roulette'] as const).map((g) => (
        <button
          key={g}
          onClick={() => setGame(g)}
          style={{
            padding: '8px 16px',
            background: game === g ? 'rgb(225 159 31)' : 'rgba(255, 255, 255, 0.05)',
            color: game === g ? 'rgb(74 41 24)' : 'rgba(255, 255, 255, 0.6)',
            border: game === g ? 'none' : '1px solid rgba(255, 255, 255, 0.1)',
            borderRadius: '6px',
            fontSize: '14px',
            fontWeight: '500',
            transition: 'all 0.2s',
          }}
        >
          {g === 'cointoss' ? 'Coin Toss' : g.charAt(0).toUpperCase() + g.slice(1)}
        </button>
      ))}
    </nav>

    {/* Games - keep your existing props (theme, customTheme, backgroundImage, etc.) */}
    {game === 'dice' && <DiceGame /* ...your existing props */ />}
    {game === 'cointoss' && <CoinTossGame /* ...your existing props */ />}
    {game === 'roulette' && <RouletteGame /* ...your existing props */ />}
  </div>
)
```

**Full example** if you have the default setup from Step 4:

```tsx
import { useState } from 'react'
import { CoinTossGame, DiceGame, RouletteGame } from '@betswirl/ui-react'

function App() {
  const [game, setGame] = useState<'dice' | 'cointoss' | 'roulette'>('dice')

  return (
    <div>
      <nav style={{
        display: 'flex',
        gap: '8px',
        justifyContent: 'center',
        padding: '12px 0',
        marginBottom: '12px',
      }}>
        {(['dice', 'cointoss', 'roulette'] as const).map((g) => (
          <button
            key={g}
            onClick={() => setGame(g)}
            style={{
              padding: '8px 16px',
              background: game === g ? 'rgb(225 159 31)' : 'rgba(255, 255, 255, 0.05)',
              color: game === g ? 'rgb(74 41 24)' : 'rgba(255, 255, 255, 0.6)',
              border: game === g ? 'none' : '1px solid rgba(255, 255, 255, 0.1)',
              borderRadius: '6px',
              fontSize: '14px',
              fontWeight: '500',
              transition: 'all 0.2s',
            }}
          >
            {g === 'cointoss' ? 'Coin Toss' : g.charAt(0).toUpperCase() + g.slice(1)}
          </button>
        ))}
      </nav>

      {game === 'dice' && <DiceGame theme="dark" customTheme={{ "--primary": "rgb(225 159 31)", "--play-btn-font": "rgb(74 41 24)" } as React.CSSProperties} backgroundImage="/game-bg.png" />}
      {game === 'cointoss' && <CoinTossGame theme="dark" customTheme={{ "--primary": "rgb(225 159 31)", "--play-btn-font": "rgb(74 41 24)" } as React.CSSProperties} backgroundImage="/game-bg.png" />}
      {game === 'roulette' && <RouletteGame theme="dark" customTheme={{ "--primary": "rgb(225 159 31)", "--play-btn-font": "rgb(74 41 24)" } as React.CSSProperties} backgroundImage="/game-bg.png" />}
    </div>
  )
}

export default App
```

### üèÜ Leaderboard "Play now" Integration

**Why this is needed:** When a user is playing DiceGame but opens a leaderboard that requires CoinToss, the DiceGame component cannot switch itself to CoinTossGame. You need to handle game switching at a higher level.

The `onPlayNow` callback lets you respond when users click "Play now" in leaderboards. It receives a `PlayNowEvent`:

```tsx
type PlayNowEvent = {
  chainId: CasinoChainId                    // Required network for the leaderboard
  games: LEADERBOARD_CASINO_RULES_GAME[]    // Which games are allowed
  tokens: Token[]                           // Which tokens are accepted
}
```

**For multi-game apps:** This callback is required for "Play now" to work correctly. Without it, the button only closes the panel but doesn't switch to the correct game.

**Implementation:** Since `setGame` is inside App component and `LeaderboardProvider` is in main.tsx, you need to pass the callback down or lift state up. Here's a simple approach using `console.log` for now:

In `src/main.tsx`:

```tsx
import { type PlayNowEvent } from '@betswirl/sdk-core'

<LeaderboardProvider onPlayNow={(event: PlayNowEvent) => {
  console.log('Leaderboard requires:', event.games)
  console.log('On chain:', event.chainId)
  console.log('With tokens:', event.tokens)
  // TODO: Implement game switching based on your app architecture
}}>
```

**For production:** You'll need to implement proper game switching. This depends on your state management approach (Context, Redux, router, etc.).

---

## Configuration Reference

This section explains all parameters you can configure in `BetSwirlSDKProvider`.

### Required Parameters

#### `initialChainId`

**Where to add:** In `src/main.tsx`, inside `<BetSwirlSDKProvider>`

**What it does:** Sets which blockchain network your app starts on when the page loads.

**Accepted values:**
- `base.id` (8453) - Base mainnet
- `polygon.id` (137) - Polygon mainnet
- `arbitrum.id` (42161) - Arbitrum mainnet
- `avalanche.id` (43114) - Avalanche mainnet
- `bsc.id` (56) - BSC mainnet

**Example:**
```tsx
<BetSwirlSDKProvider initialChainId={base.id}>
```

#### `supportedChains`

**Where to add:** In `src/main.tsx`, inside `<BetSwirlSDKProvider>`

**What it does:** Defines which blockchain networks users can switch between in your app. Must match the chains you configured in wagmi.

**Accepted values:** Array of chain IDs - must be the same chains you set up in `createConfig`

**Example:**
```tsx
// In wagmi config
const config = createConfig({
  chains: [base, polygon, arbitrum],
  // ...
})

// In BetSwirlSDKProvider - use the SAME chains
<BetSwirlSDKProvider
  supportedChains={[base.id, polygon.id, arbitrum.id]}
>
```

### Optional Parameters

#### `affiliate`

**Where to add:** In `src/main.tsx`, inside `<BetSwirlSDKProvider>`

**What it does:** Your wallet address to earn 30% commission from all bets placed through your casino.

**Accepted values:** Any valid Ethereum wallet address (starts with `0x`)

**Best practice:** Use environment variable instead of hardcoding

**Example:**
```tsx
// Read from environment variable (recommended)
const affiliateAddress = import.meta.env.VITE_AFFILIATE_ADDRESS

<BetSwirlSDKProvider affiliate={affiliateAddress}>
```

#### `bankrollToken`

**Where to add:** In `src/main.tsx`, inside `<BetSwirlSDKProvider>`

**What it does:** Sets which token is selected by default when the game loads.

**Accepted values:** A `TokenWithImage` object with these properties:
- `address` - Token contract address (use `0x0000...0000` for native token like ETH)
- `symbol` - Token name (e.g., "ETH", "DEGEN", "USDC")
- `decimals` - Usually 18 (or 6 for USDC)
- `image` - URL to token icon

**Example:**
```tsx
const DEGEN_TOKEN = {
  address: "0x4ed4E862860beD51a9570b96d89aF5E1B0Efefed",
  symbol: "DEGEN",
  decimals: 18,
  image: "https://www.betswirl.com/img/tokens/DEGEN.svg"
}

<BetSwirlSDKProvider bankrollToken={DEGEN_TOKEN}>
```

#### `filteredTokens`

**Where to add:** In `src/main.tsx`, inside `<BetSwirlSDKProvider>`

**What it does:** Limits which tokens users can select for betting. Without this, all supported tokens will be available.

**Accepted values:** Array of token contract addresses

**Why use it:** Simplify UI by showing only popular tokens

**Example:**
```tsx
const ALLOWED_TOKENS = [
  "0x0000000000000000000000000000000000000000", // ETH
  "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913", // USDC
  "0x4ed4E862860beD51a9570b96d89aF5E1B0Efefed", // DEGEN
]

<BetSwirlSDKProvider filteredTokens={ALLOWED_TOKENS}>
```

---

## Example Result

* **GitHub Repository**: [github.com/BetSwirl/betswirl-ui-react-demo](https://github.com/BetSwirl/betswirl-ui-react-demo)
* **Live Demo**: [betswirl-ui-react-demo.vercel.app](https://betswirl-ui-react-demo.vercel.app)

